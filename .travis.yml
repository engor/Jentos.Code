language: cpp
compiler:
  - gcc
install:
  - if [ "${TRAVIS_OS_NAME}" = "linux" ]; then
         sudo add-apt-repository --yes ppa:ubuntu-sdk-team/ppa
      && sudo apt-get update -qq
      && sudo apt-get install qt5-default libqt5webkit5-dev qtdeclarative5-dev sshpass
      ;
    else
         brew update
      && brew install https://raw.githubusercontent.com/kadwanev/bigboybrew/master/Library/Formula/sshpass.rb
      && brew install qt5
      && brew link --force sshpass
      && brew link --force qt5
      ;
    fi
script:
  - qmake -makefile -o Makefile jentos_ide.pro
  - make all
os:
  - linux
  - osx
env:
    global:
      - secure: "cjShmZqMGQcGmstN+LeCK7T2/IBOYjFHASEG4orzio38oeDWLHfr5dDJrt32PWk/UjLW2hU+7+5CUaAymXQxhrNCRPkHqodULCO1F0Avs+jKnxVudQe9hJDWYx5RQs6jZKt1xOruVFE8XkU4E3jgCSjfYQu3MZkADya6jp6YzE5Yq5y5Hy5MXAhx7nPEaPE1276JqckWoZwMl3lfWdQxesgDTaPFc94cidUxYSHtVCjuiHiGgewZ5jr6T4MI9mJYu8S02tkbiYDTKCngnVLn/wHtmXpmX5wiaooqSYtRbjp/c5OQs+S2PSXN5051egLhUwveJk6u5MZ0A1gQgTOW+0BOY9Om63PFQye1lcUlSemT/KYSLeHWzVN549qGu5ou00Q0vzMUAAUYGNzSAv53CEOlZwvh24z3VnHnGhMcEVqZc6PWKa1m/O3LAxgOzudV2QzQhOhuTfkLFY/kUpmrKvy+OM9ku7iNQyOGDp2i5APMMw2oEe2ho/6IJ8uQot7RH1mvjN3eAlhReveY63W9X0JeNXwgdKLb30PppWOOeP+7vXMTtygO8bQ6liGQuGjxmK87ND6EnkrLqbDxT1wewTyHw5F4CzOOYsCkGK89+j3OXpqAwu9Ij/IvI5By0CflplJXmr/XMgCIgAobFOaKIGXCIzgVzyx3/SUMX1l15AE="
      - secure: "JaJ/xzQEiknqfUDlLZukznk63z+OLfU2lXIy/Ynp9YwnQHTrXZjfxi6US6vQQPoTA4qBtpCAv057928dbWGizmKjpe5wU4804HOWLfxbBgzm3gj4Ep2fF3k8EkVTFVxLb3UwPLR05pGt7qrVDvhBKk0hPsz1A4+kcGQcikY0oAiyvnC723CdA0BsRHVkb2tFbKaIzDWzbGVOXNmpa16YSkSU6/rNGFmpi+mNVuN2ibvu0cwIzDa13+JdWtvTqHPzmOS9/hODP4wly4jxkZNzv7+dOv1QOGLathbPesKhjzPiwc2nUoFD/Hl1OGQyFihFcpnijwo5RSEf3NeudPfZ7cuVVJH06Txea8MTfDoHFNaiUklOy8ild+hEb71wYYNv3Y8LnRbPOT0SJwPXwCop+dFJzlxkqE7JmJpNT6QqNoLJ9ws/Kf5G+ORxfyXE/J5Ol/4X2Emidrzqf3/QQUrRYF/NTpRAzFQqMOqHhQ/UDydz4inRCXBSRNbodN1Vlk/3BvlTZBkepXhp8ek5JuWqSEi8GdBpw1KJtEKVUHQCwVlHw2gsVvIWn4eicOLmpOuGvQtDsqh8CtP3mSRMT+4wjlD1Amk8n2KZh3sEfxV4NmkFK1GL17hv7JdyP2nmMrgzINpriqyfWD989C3frwoAEVp2GMpBt4M9dGjIGDpdBAc="
      - secure: "nD7NIRek41XfTxfrX2J4w4JqLg0JfD5s2YUsLPgHawyODkHR5bAsNzgE0zMueV0fURunMzJurDI/RtL23aWpfvyX6OM1ieGRFoisewsGkMqT5WeaGPK72nQFdcA51GuW5tNtxN3bmKMBwf5NTASvAZS7C3Zeu4forSK1ma2Y5khtsYgnWqOWhT8dGhkKaGa765I9OclYh/XAh50+PE259oD2igU4tI2xbN+eeY8tG8ld7Nm59suiYSaVaLIWe+l1s/xTrYdcCqpXTyg/I+0yVGJZ/ulO6gabz0sim9/ewOiJnLsXmkuVdhFsar5/YLKFJz2eSae1RR5ROIDFL9CMH5eLMu4xgAiMeRzXQIEoPuxZbJPMweHrDrtyH7st3kDE4FQz9LpfMBO5u6IcJRLyi7tB+iKIhrRcRjVwXfBM+46RuER0CmLSKliLS1GzKMXKUKrLmD6tYa63mYyad7u2aEzHPazYwXQ3VstQL2XkgE7xjk/ZQw/7O0YXIg83ucZ3iNoGfvygcbgZ3Z9TEgb7yIu4xKIG9xpKHx4JQYXsJiQ8am6Zq1Dgol3rGZ5mYagtpbr6Yc7xr0iBbhx+UT/BzztP+8NsaN3z0X2nFiI4JzpMFBvydOr/krqvOUvWwrP47myulBDNTbUlf98aSpC8WVBC2eUwQzK8oBQ4UEOcvcc="
      - secure: "Ko1VpQ6KKaHy4xeEJkzh2o4kPOU/PXNe1ABS85Ni1ALlKpQFWh5Vv1NWIPkP2lpEQPIGfR/uBipj2T64nJfsdXNpHDI+Um83qZ5hwfQTtZ+B2aknjcHsZL7TVstEHviJGe0YIhVM2qEWMjgWiRUaYxn621hm82IwGyWwX4fM6DJrp0zZRYcX7QtbEgOf3+pQYh70Lnk8A7pxMpAfVl7isx85XWq5g0bT4pMfVbEi+TF5E6jI7PyUPP7tdT2Nvz3pF186/yCPlp/fwyWpVs2t4aktInpET3ox+WVovkvbftdG1I5k1WNNg1BvN+Ol8Nl1miKfg/EBcCy4Of/mDWU3SalQB3GnR4P3rEMmgkYRcdn4sgHdDQCCbLchNyiqSkBNz2IWMW2OnjSV1mVb5gtuunw6p6xHp7ENwgLrxMcY7C/Mpt3dZiSLGQVnnvL67KHTv+XYO+ljJWsezGylTPsQGfcIfHbSRetahwJriCiGGT89LMvkU6PmZSiIqwiPsCwnl0l5tKLiJhWK9vTchx7eFpHgnDhOjUefJvwoyapZQE7xySbSJPW6B+Eflfu+qW6dFvKk+7N0F2ZNfYxBmhtVH/oLpeVyMljZspDv0Sc0Gka5HhgMslfdakqGAkUaoyhl/nYw4lwHjCKwTr4cXzsKb2THp3DBvwsk16OUWbOt37U="
      - secure: "id1cZTexfeUoTd3PSgg/+H9AH7MXDhJfQYDHCnRTnYwOfhSX5/WbTHMo+xgGuKn/3HdqOfgildrxbZ2dXC7wXIpJSoHMSt0pkK5grQBafIe9PpF5V6r41ntnyZoGavuYz7jcsk1mOxt3/FZhmOGSPUDIU8Iv70q+a5i11s3qMSaggn4iOVXQs23QpZ5xMHoLs5YgmP0kBwG9F90noxb0CaFuehl34ah5JYaQUrdEJ5B+gSKgmMXYarGZWHEdK8p2AZT/3VNmtEQIkVlsNKwt6ftUKBs2NsaqbPfOyZvaDXwThAz+WxhuAGBi27Ai7ZsPUQ7nneoltm8d+h5XZPR8Ios8q1iiF4kHzVn5DqtJIBp5/RwVnpdHzn/qK0pknTJiSOzfgkaeIfj8z6Ty2Y5MAmeqdChBZNWf2Ug/3vuQQTbS0Bjt9rw8KMe7frXINisa3XX63GDwlRn276T7BqzY0YE3Fgq9+JnywgfeKnUK8QPMQb+nGByfp4WOC6hWP+h8f/SRvLOFYzgIWIGOS+ruBAxB583MoKIO1pU9BJ0i4f9QqF6JawTZpUJh/9V5kM2wNXjfqIxS4fL4UaB80HHgDRvfAfLDRV0ZdNUOM7H9n2BjJ7DKLrje6E9D7ssLFJTJusvDIIuEUfuV97MXw5RzyeMkM8D4hfWKujPdQtCrJWQ="
after_success:
  - ls -l
  - mkdir build
  - mv * build
  - tar -czf "${TRAVIS_OS_NAME}-${TRAVIS_COMMIT_RANGE}-${TRAVIS_BRANCH}-${TRAVIS_JOB_NUMBER}.tgz" build
  - echo "${TRAVIS_OS_NAME}-${TRAVIS_COMMIT_RANGE}-${TRAVIS_BRANCH}-${TRAVIS_JOB_NUMBER}.tgz"
  - echo $DEPLOY_PASS
  - echo $DEPLOY_USER
  - echo $DEPLOY_PORT
  - echo $DEPLOY_HOST
  - echo $DEPLOY_PATH
  - export SSHPASS=$DEPLOY_PASS
  - sshpass -e scp -o StrictHostKeyChecking=no -o UserKnownHostsFile=/dev/null -P $DEPLOY_PORT package.tgz $DEPLOY_USER@$DEPLOY_HOST:$DEPLOY_PATH
